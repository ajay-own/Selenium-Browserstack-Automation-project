pipeline{
    agent any
    
    stages{
        stage('stage 1'){
            steps{
                echo 'step 1.1'
                bat 'call mvnw.cmd clean test'
            }
        }
        stage('stage 2'){
            steps{
               echo 'step 2.1'
              //error 'This is error tag message'
              emailext(
        to: 'ajaygawade1111@gmail.com',
        subject: "Build ${env.JOB_NAME} #${env.BUILD_NUMBER} FAILED",
        body: "See console: ${env.BUILD_URL}"
      )
                }
           
             
    }
        }
         post {
        success {
            echo "Runs only after success : Build stage passed üéâ"
        }
        failure {
            echo "runs only after failure : Build stage failed ‚ùå"
        }
        always {
            echo "This runs always :  Build stage finished"
        archiveArtifacts artifacts: '**/target/surefire-reports/*.xml', allowEmptyArchive: true
            emailext body: ' mail from jenkin pipeline', subject: 'Jenkins demo', to: 'ajaygawade1111@gmail.com'
        }
                 
            }
}
